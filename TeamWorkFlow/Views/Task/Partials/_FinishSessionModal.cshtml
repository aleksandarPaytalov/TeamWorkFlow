@*
    Finish Session Modal
    Allows users to add notes when finishing a work session
*@

<!-- Finish Session Modal -->
<div class="modal fade" id="finishSessionModal" tabindex="-1" aria-labelledby="finishSessionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="finishSessionModalLabel">
                    <svg class="w-5 h-5 me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Finish Work Session
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Session Summary -->
                <div class="session-summary mb-4">
                    <div class="summary-item">
                        <span class="summary-label">
                            <svg class="w-4 h-4 me-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Session Duration:
                        </span>
                        <span class="summary-value" id="finishSessionDuration">0h 0m</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">
                            <svg class="w-4 h-4 me-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                            </svg>
                            Started:
                        </span>
                        <span class="summary-value" id="finishSessionStartTime">--</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">
                            <svg class="w-4 h-4 me-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                            </svg>
                            Session Type:
                        </span>
                        <span class="summary-value" id="finishSessionType">Development</span>
                    </div>
                </div>

                <!-- Notes Input -->
                <form id="finishSessionForm">
                    <div class="mb-3">
                        <label for="sessionNotes" class="form-label">
                            <svg class="w-4 h-4 me-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            Session Notes (Optional)
                        </label>
                        <textarea 
                            class="form-control" 
                            id="sessionNotes" 
                            rows="4" 
                            maxlength="500"
                            placeholder="Add notes about what was accomplished during this session...">
                        </textarea>
                        <div class="form-text">
                            <span id="notesCharCount">0</span>/500 characters
                        </div>
                    </div>

                    <!-- Quick Note Templates -->
                    <div class="quick-notes mb-3">
                        <label class="form-label">Quick Notes:</label>
                        <div class="quick-note-buttons">
                            <button type="button" class="btn btn-outline-secondary btn-sm quick-note-btn" data-note="Task completed successfully">
                                ‚úì Completed
                            </button>
                            <button type="button" class="btn btn-outline-secondary btn-sm quick-note-btn" data-note="Made good progress, continuing next session">
                                üìà Good Progress
                            </button>
                            <button type="button" class="btn btn-outline-secondary btn-sm quick-note-btn" data-note="Encountered issues, need to investigate further">
                                ‚ö†Ô∏è Issues Found
                            </button>
                            <button type="button" class="btn btn-outline-secondary btn-sm quick-note-btn" data-note="Waiting for dependencies or resources">
                                ‚è≥ Waiting
                            </button>
                            <button type="button" class="btn btn-outline-secondary btn-sm quick-note-btn" data-note="Testing and validation completed">
                                üß™ Testing Done
                            </button>
                        </div>
                    </div>
                </form>

                <!-- Validation Messages -->
                <div class="alert alert-danger" id="finishSessionError" style="display: none;">
                    <svg class="w-4 h-4 me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span id="finishSessionErrorMessage">An error occurred.</span>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" id="confirmFinishBtn">
                    <svg class="w-4 h-4 me-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span id="finishBtnText">Finish Session</span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Session Type Selection Modal -->
<div class="modal fade" id="sessionTypeModal" tabindex="-1" aria-labelledby="sessionTypeModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="sessionTypeModalLabel">
                    <svg class="w-5 h-5 me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h8m-9-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Start Work Session
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="mb-3">Select the type of work session you're starting:</p>
                
                <div class="session-type-options">
                    <div class="form-check session-type-option">
                        <input class="form-check-input" type="radio" name="sessionType" id="sessionTypeDevelopment" value="Development" checked>
                        <label class="form-check-label" for="sessionTypeDevelopment">
                            <div class="session-type-info">
                                <div class="session-type-icon">üíª</div>
                                <div class="session-type-details">
                                    <strong>Development</strong>
                                    <small class="text-muted d-block">Coding, implementation, and feature development</small>
                                </div>
                            </div>
                        </label>
                    </div>
                    
                    <div class="form-check session-type-option">
                        <input class="form-check-input" type="radio" name="sessionType" id="sessionTypeTesting" value="Testing">
                        <label class="form-check-label" for="sessionTypeTesting">
                            <div class="session-type-info">
                                <div class="session-type-icon">üß™</div>
                                <div class="session-type-details">
                                    <strong>Testing</strong>
                                    <small class="text-muted d-block">Quality assurance, debugging, and validation</small>
                                </div>
                            </div>
                        </label>
                    </div>
                    
                    <div class="form-check session-type-option">
                        <input class="form-check-input" type="radio" name="sessionType" id="sessionTypeDocumentation" value="Documentation">
                        <label class="form-check-label" for="sessionTypeDocumentation">
                            <div class="session-type-info">
                                <div class="session-type-icon">üìù</div>
                                <div class="session-type-details">
                                    <strong>Documentation</strong>
                                    <small class="text-muted d-block">Writing docs, comments, and specifications</small>
                                </div>
                            </div>
                        </label>
                    </div>
                    
                    <div class="form-check session-type-option">
                        <input class="form-check-input" type="radio" name="sessionType" id="sessionTypeResearch" value="Research">
                        <label class="form-check-label" for="sessionTypeResearch">
                            <div class="session-type-info">
                                <div class="session-type-icon">üîç</div>
                                <div class="session-type-details">
                                    <strong>Research</strong>
                                    <small class="text-muted d-block">Investigation, planning, and analysis</small>
                                </div>
                            </div>
                        </label>
                    </div>
                    
                    <div class="form-check session-type-option">
                        <input class="form-check-input" type="radio" name="sessionType" id="sessionTypeMeeting" value="Meeting">
                        <label class="form-check-label" for="sessionTypeMeeting">
                            <div class="session-type-info">
                                <div class="session-type-icon">üë•</div>
                                <div class="session-type-details">
                                    <strong>Meeting</strong>
                                    <small class="text-muted d-block">Discussions, reviews, and collaboration</small>
                                </div>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="confirmStartBtn">
                    <svg class="w-4 h-4 me-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h8m-9-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Start Session
                </button>
            </div>
        </div>
    </div>
</div>
